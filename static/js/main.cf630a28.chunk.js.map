{"version":3,"sources":["CreateQueryList/CreateQueryListItem/index.ts","CreateQueryList/CreateQueryListItem/CreateQueryListItem.tsx","../../src/values-controller.ts","../../node_modules/querystring/decode.js","../../src/store.ts","../../node_modules/querystring/encode.js","../../node_modules/querystring/index.js","../../src/query-parser.ts","../../src/location-controller.ts","../../src/useIndex/useIndex.ts","../../src/index.ts","CreateQueryList/index.ts","CreateQueryList/CreateQueryList.tsx","AddQueryItemDialog/index.ts","AddQueryItemDialog/AddQueryItemDialog.tsx","QueryList/index.ts","QueryList/QueryList.tsx","App.tsx","mobx/models/QueryItem.ts","mobx/models/QueryItems.ts","mobx/mobx.ts","mobx/index.ts","index.tsx"],"names":["CreateQueryListItem","observer","item","Item","title","name","style","width","label","value","onChange","e","setName","target","initial","toString","setInitial","checked","hideIfInitial","setHideIfInitial","initialValuesWrappers","addInitialValues","wrapper","initialValues","index","v","getInitialValues","a","b","initialValuesWrapper","normalizeValue","isInitialValueObject","normalizeValues","values","normalized","Object","normalizeValuesForUser","initialValue","typeOfValue","parseInt","array","Array","func","normalizeArray","compareValues","compare","type","obj","prop","prototype","hasOwnProperty","call","qs","sep","eq","options","length","regexp","split","maxKeys","len","i","kstr","vstr","k","x","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","stringifyPrimitive","isFinite","undefined","keys","map","ks","encodeURIComponent","join","exports","parse","require$$0","stringify","require$$1","getLocation","history","extractQueryByInitialValues","result","query","defaultValues","readQuery","location","writeQuery","stringifyQuery","prepareValuesForLocation","sortFieldsInQuery","indexA","indexB","sortedKeys","calculateLocationPath","queryValues","joinValues","locationQuery","currentIndex","useLocationQuery","h","useState","useEffect","useIndex","useHistory","useLocation","removeInitialValues","JSON","currentInitialNormalizedValues","initialNormalizedValues","fullQuery","setQueryField","field","CreateQueryList","inject","queryItems","setDefaultValues","newDefaultValues","items","forEach","dataSource","renderItem","AddQueryItemDialog","onClose","useFormik","defaultValue","validate","errors","includes","onSubmit","touched","handleChange","handleBlur","handleSubmit","setFieldTouched","setFieldValue","isValid","dirty","visible","cancelText","onCancel","okText","okButtonProps","disabled","onOk","addQueryItem","layout","onSubmitCapture","validateStatus","help","placeholder","onBlur","Option","QueryList","key","addQueryDialogVisible","setAddQueryDialogVisible","Title","gutter","span","onClick","QueryItem","this","hide","saveToLocalStorageItem","observable","action","QueryItems","saveToLocalStorage","loadFromLocalStorage","localStorage","getItem","setItem","filter","mobx","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cf630a28.chunk.js","sourcesContent":["import CreateQueryListItem from './CreateQueryListItem';\r\n\r\nexport default CreateQueryListItem;\r\n","import React from 'react';\r\nimport { List, Card, Form, Input, Checkbox } from 'antd';\r\nimport { QueryItem } from '../../mobx/models/QueryItem';\r\nimport { observer } from 'mobx-react';\r\n\r\ninterface Props {\r\n\titem: QueryItem;\r\n}\r\n\r\nconst CreateQueryListItem = ({ item }: Props) => {\r\n\treturn (\r\n\t\t<List.Item>\r\n\t\t\t<Card title={item.name} style={{ width: '100%' }}>\r\n\t\t\t\t<Form.Item label='Name'>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tvalue={item.name}\r\n\t\t\t\t\t\tonChange={(e) => item.setName(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label='Initial value'>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tvalue={item.initial.toString()}\r\n\t\t\t\t\t\tonChange={(e) => item.setInitial(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label='Hide if default'>\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tchecked={item.hideIfInitial}\r\n\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\titem.setHideIfInitial(e.target.checked)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tHide if initial\r\n\t\t\t\t\t</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Card>\r\n\t\t</List.Item>\r\n\t);\r\n};\r\n\r\nexport default observer(CreateQueryListItem);\r\n","import {\r\n\tInitialValues,\r\n\tInitialValuesWrapper,\r\n\tInitialObject,\r\n\tInitialField,\r\n\tInitialValue,\r\n\tInitialObjectArray\r\n} from './types/Initial';\r\nimport { QueryValue, QueryValues } from './types/Query';\r\nimport { UserValues } from './types/User';\r\n\r\nlet initialValuesWrappers: InitialValuesWrapper[] = [];\r\n\r\nexport const addInitialValues = (\r\n\tinitialValues: InitialValues,\r\n\tindex: number\r\n) => {\r\n\tconst wrapper: InitialValuesWrapper = { initialValues, index };\r\n\tinitialValuesWrappers = [\r\n\t\t...initialValuesWrappers.filter((v) => v.index !== index),\r\n\t\twrapper\r\n\t];\r\n};\r\n\r\nexport const removeInitialValues = (index: number) => {\r\n\tinitialValuesWrappers = initialValuesWrappers.filter(\r\n\t\t(v) => v.index !== index\r\n\t);\r\n};\r\n\r\nexport const getInitialValuesWrappers = () => {\r\n\treturn initialValuesWrappers;\r\n};\r\n\r\nexport const getInitialValues = () => {\r\n\tlet initialValues: InitialValues = {};\r\n\tinitialValuesWrappers\r\n\t\t.sort((a, b) => a.index - b.index)\r\n\t\t.forEach((initialValuesWrapper) => {\r\n\t\t\tinitialValues = {\r\n\t\t\t\t...initialValues,\r\n\t\t\t\t...initialValuesWrapper.initialValues\r\n\t\t\t};\r\n\t\t});\r\n\r\n\treturn initialValues;\r\n};\r\n\r\nconst normalizeValue = (value: InitialObject | QueryValue) => {\r\n\treturn !isInitialValueObject(value) ? value : value.initial;\r\n};\r\n\r\nexport const normalizeValues = (values: InitialValues | QueryValues) => {\r\n\tconst normalized: any = {};\r\n\tObject.keys(values).forEach((key) => {\r\n\t\tnormalized[key] = normalizeValue(values[key]);\r\n\t});\r\n\treturn normalized;\r\n};\r\n\r\nexport const prepareValuesForLocation = (values: InitialValues) => {\r\n\tconst initialValues = getInitialValues();\r\n\tconst normalized: any = { ...values };\r\n\tObject.keys(normalized).forEach((key) => {\r\n\t\tconst value = normalized[key];\r\n\t\tconst initialValue = initialValues[key];\r\n\t\tif (isInitialValueObject(initialValue)) {\r\n\t\t\tif (initialValue.hideIfInitial) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tcompareValues(value, initialValue) ||\r\n\t\t\t\t\tisInitialValueObject(value)\r\n\t\t\t\t) {\r\n\t\t\t\t\tdelete normalized[key];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnormalized[key] = normalizeValue(value);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn normalized;\r\n};\r\n\r\nexport const normalizeValuesForUser = (\r\n\tvalues: InitialValues | QueryValues,\r\n\tinitialValues: InitialValues\r\n): UserValues => {\r\n\tconst normalized: UserValues = {};\r\n\tObject.keys(values).forEach((key) => {\r\n\t\tconst value = normalizeValue(values[key]);\r\n\t\tconst initialValue = initialValues[key];\r\n\t\tswitch (typeOfValue(initialValue)) {\r\n\t\t\tcase 'boolean':\r\n\t\t\t\tnormalized[key] = value === 'true';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'number':\r\n\t\t\t\tnormalized[key] = parseInt(value.toString());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'array':\r\n\t\t\t\tconst normalizeArray = (\r\n\t\t\t\t\ttype: 'string' | 'boolean' | 'number',\r\n\t\t\t\t\tarray: Array<string | boolean | number>\r\n\t\t\t\t) => {\r\n\t\t\t\t\tlet func: any;\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\tcase 'boolean':\r\n\t\t\t\t\t\t\tfunc = (a: string | boolean) =>\r\n\t\t\t\t\t\t\t\ta === true || a === 'true';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'number':\r\n\t\t\t\t\t\t\tfunc = (a: string | number) =>\r\n\t\t\t\t\t\t\t\tparseInt(a.toString());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (func) return array.map(func);\r\n\t\t\t\t\treturn array;\r\n\t\t\t\t};\r\n\t\t\t\tconst array = Array.isArray(value) ? value : [value];\r\n\t\t\t\tnormalized[key] = normalizeArray(\r\n\t\t\t\t\t(initialValue as InitialObjectArray).arrayType,\r\n\t\t\t\t\tarray\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\tdefault:\r\n\t\t\t\tnormalized[key] = value;\r\n\t\t}\r\n\t});\r\n\treturn normalized;\r\n};\r\n\r\nexport const compareValues = (value: string, initialValue: InitialField) => {\r\n\tconst compare = (type: string, initialValue: any, value: any) => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'boolean':\r\n\t\t\t\treturn initialValue === (value === 'true');\r\n\t\t\tcase 'number':\r\n\t\t\t\treturn initialValue === parseInt(value);\r\n\t\t\tcase 'string':\r\n\t\t\tdefault:\r\n\t\t\t\treturn initialValue === value;\r\n\t\t}\r\n\t};\r\n\r\n\tif (typeof initialValue !== 'object' || Array.isArray(initialValue)) {\r\n\t\treturn compare(typeof initialValue, initialValue, value);\r\n\t}\r\n\treturn compare(initialValue.type, initialValue.initial, value);\r\n};\r\nconst isInitialValueObject = (\r\n\tvalue: InitialObject | InitialValue | QueryValue\r\n): value is InitialObject => typeof value === 'object' && !Array.isArray(value);\r\n\r\nconst typeOfValue = (value: InitialField) => {\r\n\treturn isInitialValueObject(value)\r\n\t\t? value.type\r\n\t\t: (typeof value as 'string' | 'number' | 'boolean');\r\n};\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","import { History } from './types';\r\n\r\nlet history: History;\r\n\r\nexport const setHistory = (h: History): History => (history = h);\r\nexport const getHistory = () => history;\r\n\r\nexport const getLocation = () => history.location;\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","import qs from 'querystring';\r\nimport {\r\n\tnormalizeValues,\r\n\tgetInitialValuesWrappers,\r\n\tprepareValuesForLocation\r\n} from './values-controller';\r\nimport { InitialValues } from './types/Initial';\r\nimport { getLocation, getHistory } from './store';\r\nimport { QueryObject, QueryValues } from './types/Query';\r\nimport { Location } from './types';\r\n\r\nexport const extractQueryByInitialValues = (\r\n\tquery: any,\r\n\tdefaultValues: InitialValues\r\n): QueryValues => {\r\n\tconst result: QueryValues = {};\r\n\tObject.keys(defaultValues).forEach((key) => {\r\n\t\tresult[key] = query[key] ? query[key] : defaultValues[key];\r\n\t});\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const parseQuery = (query: string) => {\r\n\treturn qs.parse(query === '' ? '' : query.substring(1));\r\n};\r\n\r\nexport const stringifyQuery = (query: QueryValues) => {\r\n\treturn qs.stringify(normalizeValues(query));\r\n};\r\n\r\nexport const readQuery = (): QueryObject => {\r\n\tconst location: Location = getLocation();\r\n\treturn parseQuery(location.search);\r\n};\r\n\r\nexport const writeQuery = (query: InitialValues) => {\r\n\tconst history = getHistory();\r\n\tconst location = getLocation();\r\n\r\n\tif (Object.keys(query).length === 0) {\r\n\t\thistory.replace(location.pathname);\r\n\t} else {\r\n\t\thistory.replace(\r\n\t\t\t`${location.pathname}?${stringifyQuery(\r\n\t\t\t\tprepareValuesForLocation(\r\n\t\t\t\t\tsortFieldsInQuery(normalizeValues(query))\r\n\t\t\t\t)\r\n\t\t\t)}`\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst sortFieldsInQuery = (query: object) => {\r\n\tconst defaultValues = getInitialValuesWrappers();\r\n\r\n\tconst result = {};\r\n\tconst keys = Object.keys(query);\r\n\tconst sortedKeys = keys.sort((a: string, b: string) => {\r\n\t\tconst indexA = defaultValues.find((value) => !!value[a]);\r\n\t\tconst indexB = defaultValues.find((value) => !!value[b]);\r\n\t\tif (!indexA || !indexB) return 0;\r\n\r\n\t\treturn indexA.index - indexB.index;\r\n\t});\r\n\r\n\tsortedKeys.forEach((key) => {\r\n\t\tresult[key] = query[key];\r\n\t});\r\n\r\n\treturn result;\r\n};\r\n","import { getInitialValues } from './values-controller';\r\nimport { writeQuery, readQuery } from './query-parser';\r\n\r\nexport const calculateLocationPath = () => {\r\n\tconst queryValues = readQuery();\r\n\twriteQuery(joinValues(queryValues));\r\n};\r\n\r\nexport const setQueryField = (field: string, value: any) => {\r\n\tconst values = { ...readQuery() };\r\n\tvalues[field] = value;\r\n\r\n\twriteQuery(joinValues(values));\r\n};\r\n\r\nconst joinValues = (locationQuery: any) => {\r\n\tconst result = { ...getInitialValues() };\r\n\tObject.keys(locationQuery).forEach((key) => {\r\n\t\tconst value = result[key] ? result[key] : true;\r\n\t\tif (value) {\r\n\t\t\tresult[key] = locationQuery[key];\r\n\t\t}\r\n\t});\r\n\r\n\treturn result;\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nlet currentIndex = 0;\r\n\r\nexport const useIndex = () => {\r\n\tconst [index] = useState(currentIndex++);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tcurrentIndex--;\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn index;\r\n};\r\n","import { useHistory, useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport {\r\n\tnormalizeValues,\r\n\tnormalizeValuesForUser,\r\n\taddInitialValues,\r\n\tremoveInitialValues,\r\n\tgetInitialValues\r\n} from './values-controller';\r\nimport { calculateLocationPath, setQueryField } from './location-controller';\r\nimport { extractQueryByInitialValues, readQuery } from './query-parser';\r\nimport { InitialValues, InitialField } from './types/Initial';\r\nimport useIndex from './useIndex';\r\nimport { setHistory } from './store';\r\n\r\nexport const useLocationQuery = (initialValues: InitialValues) => {\r\n\tconst index = useIndex(); // index for save order\r\n\r\n\tsetHistory(useHistory());\r\n\tuseLocation(); // NO DELETE, using for rerender when change location\r\n\r\n\taddInitialValues(initialValues, index);\r\n\r\n\tuseEffect(() => {\r\n\t\taddInitialValues(initialValues, index);\r\n\t\tcalculateLocationPath();\r\n\t\treturn () => {\r\n\t\t\tremoveInitialValues(index);\r\n\t\t\tcalculateLocationPath();\r\n\t\t};\r\n\t}, [JSON.stringify(initialValues)]);\r\n\r\n\tconst currentInitialNormalizedValues = normalizeValues(initialValues);\r\n\tconst initialNormalizedValues = normalizeValues(getInitialValues());\r\n\r\n\tconst locationQuery = readQuery();\r\n\tconst query = extractQueryByInitialValues(\r\n\t\tlocationQuery,\r\n\t\tcurrentInitialNormalizedValues\r\n\t);\r\n\treturn {\r\n\t\tfullQuery: extractQueryByInitialValues(\r\n\t\t\tlocationQuery,\r\n\t\t\tinitialNormalizedValues\r\n\t\t),\r\n\t\tquery: normalizeValuesForUser(query, initialValues),\r\n\t\tsetQueryField: (field: string, value: InitialField) =>\r\n\t\t\tsetQueryField(field, value)\r\n\t};\r\n};\r\n","import CreateQueryList from './CreateQueryList';\r\n\r\nexport default CreateQueryList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { inject, observer, Observer } from 'mobx-react';\r\nimport { QueryItems } from '../mobx/models/QueryItems';\r\nimport { List } from 'antd';\r\nimport CreateQueryListItem from './CreateQueryListItem';\r\nimport { useLocationQuery } from 'react-use-location-query';\r\n\r\ninterface Props {\r\n\tqueryItems?: QueryItems;\r\n}\r\n\r\nconst CreateQueryList = ({ queryItems }: Props) => {\r\n\tconst [defaultValues, setDefaultValues] = useState({});\r\n\tconst {} = useLocationQuery(defaultValues);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newDefaultValues: any = {};\r\n\r\n\t\tqueryItems!.items.forEach((item) => {\r\n\t\t\tnewDefaultValues[item.name] = {\r\n\t\t\t\ttype: item.type,\r\n\t\t\t\tinitial: item.initial,\r\n\t\t\t\thideIfInitial: item.hideIfInitial\r\n\t\t\t};\r\n\t\t});\r\n\t\tsetDefaultValues(newDefaultValues);\r\n\t}, [JSON.stringify(queryItems!.items)]);\r\n\treturn (\r\n\t\t<List\r\n\t\t\tdataSource={queryItems!.items}\r\n\t\t\trenderItem={(item) => <CreateQueryListItem item={item} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default inject('queryItems')(observer(CreateQueryList));\r\n","import AddQueryItemDialog from './AddQueryItemDialog';\r\n\r\nexport default AddQueryItemDialog;\r\n","import React from 'react';\r\n\r\nimport { Modal, Form, Input, Select, Checkbox } from 'antd';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { QueryItems } from '../mobx/models/QueryItems';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n\tqueryItems?: QueryItems;\r\n\tonClose: Function;\r\n}\r\n\r\nconst AddQueryItemDialog = ({ queryItems, onClose }: Props) => {\r\n\tconst {\r\n\t\tvalues,\r\n\t\terrors,\r\n\t\ttouched,\r\n\t\thandleChange,\r\n\t\thandleBlur,\r\n\t\thandleSubmit,\r\n\t\tsetFieldTouched,\r\n\t\tsetFieldValue,\r\n\t\tisValid,\r\n\t\tdirty\r\n\t} = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tname: '',\r\n\t\t\ttype: 'string',\r\n\t\t\tdefaultValue: '',\r\n\t\t\thideIfInitial: false\r\n\t\t},\r\n\t\tvalidate: ({ name }) => {\r\n\t\t\tconst errors: any = {};\r\n\r\n\t\t\tif (name === '') errors.name = 'Name should be exists';\r\n\t\t\telse if (queryItems?.items.map((i) => i.name).includes(name))\r\n\t\t\t\terrors.name = 'Name is not unique';\r\n\r\n\t\t\treturn errors;\r\n\t\t},\r\n\t\tonSubmit: () => {}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle='Basic Modal'\r\n\t\t\tvisible={true}\r\n\t\t\tcancelText='Скасувати'\r\n\t\t\tonCancel={() => onClose()}\r\n\t\t\tokText='Додати'\r\n\t\t\tokButtonProps={{ disabled: !isValid || !dirty }}\r\n\t\t\tonOk={() => {\r\n\t\t\t\tqueryItems!.addQueryItem(\r\n\t\t\t\t\tvalues.name,\r\n\t\t\t\t\tvalues.type as any,\r\n\t\t\t\t\tvalues.defaultValue,\r\n\t\t\t\t\tvalues.hideIfInitial\r\n\t\t\t\t);\r\n\t\t\t\tonClose();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Form layout='vertical' onSubmitCapture={handleSubmit}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\tvalidateStatus={\r\n\t\t\t\t\t\ttouched.name && errors.name ? 'error' : 'validating'\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={touched.name && errors.name}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\tplaceholder='Example: name'\r\n\t\t\t\t\t\tvalue={values.name}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel='Type'\r\n\t\t\t\t\tvalidateStatus={\r\n\t\t\t\t\t\ttouched.type && errors.type ? 'error' : 'validating'\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={touched.type && errors.type}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tvalue={values.type}\r\n\t\t\t\t\t\tonChange={(value) => setFieldValue('type', value)}\r\n\t\t\t\t\t\tonBlur={() => setFieldTouched('type')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select.Option value='string'>string</Select.Option>\r\n\t\t\t\t\t\t<Select.Option value='number'>number</Select.Option>\r\n\t\t\t\t\t\t<Select.Option value='boolean'>boolean</Select.Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel='Default value'\r\n\t\t\t\t\tvalidateStatus={\r\n\t\t\t\t\t\ttouched.defaultValue && errors.defaultValue\r\n\t\t\t\t\t\t\t? 'error'\r\n\t\t\t\t\t\t\t: 'validating'\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={touched.defaultValue && errors.defaultValue}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname='defaultValue'\r\n\t\t\t\t\t\tplaceholder='Example: Rostyslav'\r\n\t\t\t\t\t\tvalue={values.defaultValue}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tchecked={values.hideIfInitial}\r\n\t\t\t\t\tonChange={({ target: { checked } }) =>\r\n\t\t\t\t\t\tsetFieldValue('hideIfInitial', checked)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tHide if default?\r\n\t\t\t\t</Checkbox>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default inject('queryItems')(observer(AddQueryItemDialog));\r\n","import QueryList from './QueryList';\r\n\r\nexport default QueryList;\r\n","import React from 'react';\r\nimport { List, Input, Form } from 'antd';\r\nimport { useLocationQuery } from 'react-use-location-query';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport classes from './QueryList.module.css';\r\n\r\nconst QueryList = () => {\r\n\tconst { fullQuery, setQueryField } = useLocationQuery({});\r\n\treturn (\r\n\t\t<List\r\n\t\t\tdataSource={Object.keys(fullQuery).map((key) => ({\r\n\t\t\t\tname: key,\r\n\t\t\t\tvalue: fullQuery[key]\r\n\t\t\t}))}\r\n\t\t\trenderItem={(item) => (\r\n\t\t\t\t<List.Item key={item.name}>\r\n\t\t\t\t\t<Form.Item style={{ width: '100%' }} label={item.name}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tvalue={item.value.toString()}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetQueryField(item.name, e.target.value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</List.Item>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default observer(QueryList);\r\n","import React, { useState } from 'react';\nimport { Button, Typography, Row, Col } from 'antd';\nimport CreateQueryList from './CreateQueryList';\nimport { inject, observer } from 'mobx-react';\nimport { QueryItems } from './mobx/models/QueryItems';\nimport AddQueryItemDialog from './AddQueryItemDialog';\nimport QueryList from './QueryList';\n\ninterface Props {\n\tqueryItems?: QueryItems;\n}\n\nconst App = ({ queryItems }: Props) => {\n\tconst [addQueryDialogVisible, setAddQueryDialogVisible] = useState(false);\n\n\treturn (\n\t\t<div>\n\t\t\t<Typography.Title>React hook - useLocationQuery</Typography.Title>\n\t\t\t<Row gutter={[8, 8]}>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<CreateQueryList />\n\t\t\t\t\t<Button onClick={() => setAddQueryDialogVisible(true)}>\n\t\t\t\t\t\tAdd query item\n\t\t\t\t\t</Button>\n\t\t\t\t\t{addQueryDialogVisible && (\n\t\t\t\t\t\t<AddQueryItemDialog\n\t\t\t\t\t\t\tonClose={() => setAddQueryDialogVisible(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<QueryList />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t);\n};\n\nexport default inject('queryItems')(observer(App));\n","import { observable, action } from 'mobx';\r\nimport { saveToLocalStorageItem } from './QueryItems';\r\n\r\nexport class QueryItem {\r\n\t@observable type: 'string' | 'boolean' | 'number' = 'string';\r\n\t@observable name: string = '';\r\n\t@observable initial: string | boolean | number = '';\r\n\t@observable hideIfInitial: boolean = false;\r\n\r\n\tconstructor(\r\n\t\tname: string,\r\n\t\ttype: 'string' | 'boolean' | 'number',\r\n\t\tinitial: string | boolean | number,\r\n\t\thideIfInitial: boolean\r\n\t) {\r\n\t\tthis.name = name;\r\n\t\tthis.type = type;\r\n\t\tthis.initial = initial;\r\n\t\tthis.hideIfInitial = hideIfInitial;\r\n\t}\r\n\r\n\t@action setName(name: string) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\t@action setInitial(initial: string) {\r\n\t\tthis.initial = initial;\r\n\t}\r\n\r\n\t@action setHideIfInitial(hide: boolean) {\r\n\t\tthis.hideIfInitial = hide;\r\n\t\tsaveToLocalStorageItem(this);\r\n\t}\r\n}\r\n","import { QueryItem } from './QueryItem';\r\nimport { observable, action } from 'mobx';\r\n\r\nexport class QueryItems {\r\n\t@observable items: QueryItem[] = loadFromLocalStorage().map(\r\n\t\t({ name, type, initial, hideIfInitial }: any) =>\r\n\t\t\tnew QueryItem(name, type, initial, hideIfInitial)\r\n\t);\r\n\r\n\t@action addQueryItem(\r\n\t\tname: string,\r\n\t\ttype: 'string' | 'boolean' | 'number',\r\n\t\tinitial: string | boolean | number,\r\n\t\thideIfInitial: boolean\r\n\t) {\r\n\t\tthis.items = [\r\n\t\t\t...this.items,\r\n\t\t\tnew QueryItem(name, type, initial, hideIfInitial)\r\n\t\t];\r\n\r\n\t\tsaveToLocalStorage(this.items);\r\n\t}\r\n}\r\n\r\nconst loadFromLocalStorage = () =>\r\n\tJSON.parse(localStorage.getItem('QUERY_ITEMS') ?? '[]');\r\n\r\nconst saveToLocalStorage = (queryItems: QueryItem[]) =>\r\n\tlocalStorage.setItem('QUERY_ITEMS', JSON.stringify(queryItems));\r\n\r\nexport const saveToLocalStorageItem = (item: QueryItem) =>\r\n\tsaveToLocalStorage([\r\n\t\t...loadFromLocalStorage().filter((i: any) => i.name !== item.name),\r\n\t\titem\r\n\t]);\r\n","import { QueryItems } from './models/QueryItems';\r\n\r\nexport const queryItems = new QueryItems();\r\n","import * as mobx from './mobx';\r\n\r\nexport default mobx;\r\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { Provider } from 'mobx-react';\nimport mobx from './mobx';\n\nReactDOM.render(\n\t<Provider queryItems={mobx.queryItems}>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}