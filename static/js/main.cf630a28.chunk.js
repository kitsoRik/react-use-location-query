(this["webpackJsonpreact-use-location-query-example"]=this["webpackJsonpreact-use-location-query-example"]||[]).push([[0],{227:function(e,t,n){e.exports=n(412)},228:function(e,t,n){},412:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"queryItems",(function(){return Ie}));n(228);var r=n(0),i=n.n(r),u=n(7),c=n.n(u),o=n(140),l=n(414),f=n(92),s=n(47),m=n(63),p=n(198),b=n(35),y=n(416),d=n(413),h=n(415),v=n(418),I=n(419),O=Object(b.c)((function(e){var t=e.item;return i.a.createElement(y.b.Item,null,i.a.createElement(d.a,{title:t.name,style:{width:"100%"}},i.a.createElement(h.a.Item,{label:"Name"},i.a.createElement(v.a,{value:t.name,onChange:function(e){return t.setName(e.target.value)}})),i.a.createElement(h.a.Item,{label:"Initial value"},i.a.createElement(v.a,{value:t.initial.toString(),onChange:function(e){return t.setInitial(e.target.value)}})),i.a.createElement(h.a.Item,{label:"Hide if default"},i.a.createElement(I.a,{checked:t.hideIfInitial,onChange:function(e){return t.setHideIfInitial(e.target.checked)}},"Hide if initial"))))})),j=n(24);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var g=[],k=function(e,t){var n={initialValues:e,index:t};g=[].concat(g.filter((function(e){return e.index!==t})),[n])},S=function(){var e={};return g.sort((function(e,t){return e.index-t.index})).forEach((function(t){e=E({},e,t.initialValues)})),e},w=function(e){return V(e)?e.initial:e},x=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=w(e[n])})),t},C=function(e,t){var n={};return Object.keys(e).forEach((function(a){var r=w(e[a]),i=t[a];switch(N(i)){case"boolean":n[a]="true"===r;break;case"number":n[a]=parseInt(r.toString());break;case"array":var u=Array.isArray(r)?r:[r];n[a]=function(e,t){var n;switch(e){case"boolean":n=function(e){return!0===e||"true"===e};break;case"number":n=function(e){return parseInt(e.toString())}}return n?t.map(n):t}(i.arrayType,u);break;case"string":default:n[a]=r}})),n},q=function(e,t){var n=function(e,t,n){switch(e){case"boolean":return t===("true"===n);case"number":return t===parseInt(n);case"string":default:return t===n}};return"object"!==typeof t||Array.isArray(t)?n(typeof t,t,e):n(t.type,t.initial,e)},V=function(e){return"object"===typeof e&&!Array.isArray(e)},N=function(e){return V(e)?e.type:typeof e};function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Q,R,U,T,B,H,P,J,z=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!==typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var u=1e3;a&&"number"===typeof a.maxKeys&&(u=a.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var o=0;o<c;++o){var l,f,s,m,p=e[o].replace(i,"%20"),b=p.indexOf(n);b>=0?(l=p.substr(0,b),f=p.substr(b+1)):(l=p,f=""),s=decodeURIComponent(l),m=decodeURIComponent(f),A(r,s)?Array.isArray(r[s])?r[s].push(m):r[s]=[r[s],m]:r[s]=m}return r},D=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},F=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(a){var r=encodeURIComponent(D(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return r+encodeURIComponent(D(e))})).join(t):r+encodeURIComponent(D(e[a]))})).join(t):a?encodeURIComponent(D(a))+n+encodeURIComponent(D(e)):""},M=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){t.decode=t.parse=z,t.encode=t.stringify=F})),K=function(){return Q.location},Y=function(e,t){var n={};return Object.keys(t).forEach((function(a){n[a]=e[a]?e[a]:t[a]})),n},_=function(){var e,t=K();return e=t.search,M.parse(""===e?"":e.substring(1))},L=function(e){var t=Q,n=K();0===Object.keys(e).length?t.replace(n.pathname):t.replace(n.pathname+"?"+function(e){return M.stringify(x(e))}(function(e){var t=S(),n=E({},e);return Object.keys(n).forEach((function(e){var a=n[e],r=t[e];V(r)&&(r.hideIfInitial?(q(a,r)||V(a))&&delete n[e]:n[e]=w(a))})),n}(G(x(e)))))},G=function(e){var t=g,n={};return Object.keys(e).sort((function(e,n){var a=t.find((function(t){return!!t[e]})),r=t.find((function(e){return!!e[n]}));return a&&r?a.index-r.index:0})).forEach((function(t){n[t]=e[t]})),n},W=function(){var e=_();L(X(e))},X=function(e){var t=E({},S());return Object.keys(e).forEach((function(n){(!t[n]||t[n])&&(t[n]=e[n])})),t},Z=0,$=function(e){var t,n=function(){var e=Object(r.useState)(Z++)[0];return Object(r.useEffect)((function(){return function(){Z--}}),[]),e}();t=Object(j.d)(),Q=t,Object(j.e)(),k(e,n),Object(r.useEffect)((function(){return k(e,n),W(),function(){!function(e){g=g.filter((function(t){return t.index!==e}))}(n),W()}}),[JSON.stringify(e)]);var a=x(e),i=x(S()),u=_(),c=Y(u,a);return{fullQuery:Y(u,i),query:C(c,e),setQueryField:function(e,t){return function(e,t){var n=E({},_());n[e]=t,L(X(n))}(e,t)}}},ee=Object(b.b)("queryItems")(Object(b.c)((function(e){var t=e.queryItems,n=Object(r.useState)({}),a=Object(o.a)(n,2),u=a[0],c=a[1],l=$(u);return Object(p.a)(l),Object(r.useEffect)((function(){var e={};t.items.forEach((function(t){e[t.name]={type:t.type,initial:t.initial,hideIfInitial:t.hideIfInitial}})),c(e)}),[JSON.stringify(t.items)]),i.a.createElement(y.b,{dataSource:t.items,renderItem:function(e){return i.a.createElement(O,{item:e})}})}))),te=n(417),ne=n(106),ae=n(222),re=Object(b.b)("queryItems")(Object(b.c)((function(e){var t=e.queryItems,n=e.onClose,a=Object(ae.a)({initialValues:{name:"",type:"string",defaultValue:"",hideIfInitial:!1},validate:function(e){var n=e.name,a={};return""===n?a.name="Name should be exists":(null===t||void 0===t?void 0:t.items.map((function(e){return e.name})).includes(n))&&(a.name="Name is not unique"),a},onSubmit:function(){}}),r=a.values,u=a.errors,c=a.touched,o=a.handleChange,l=a.handleBlur,f=a.handleSubmit,s=a.setFieldTouched,m=a.setFieldValue,p=a.isValid,b=a.dirty;return i.a.createElement(te.a,{title:"Basic Modal",visible:!0,cancelText:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438",onCancel:function(){return n()},okText:"\u0414\u043e\u0434\u0430\u0442\u0438",okButtonProps:{disabled:!p||!b},onOk:function(){t.addQueryItem(r.name,r.type,r.defaultValue,r.hideIfInitial),n()}},i.a.createElement(h.a,{layout:"vertical",onSubmitCapture:f},i.a.createElement(h.a.Item,{label:"Name",validateStatus:c.name&&u.name?"error":"validating",help:c.name&&u.name},i.a.createElement(v.a,{name:"name",placeholder:"Example: name",value:r.name,onChange:o,onBlur:l})),i.a.createElement(h.a.Item,{label:"Type",validateStatus:c.type&&u.type?"error":"validating",help:c.type&&u.type},i.a.createElement(ne.a,{value:r.type,onChange:function(e){return m("type",e)},onBlur:function(){return s("type")}},i.a.createElement(ne.a.Option,{value:"string"},"string"),i.a.createElement(ne.a.Option,{value:"number"},"number"),i.a.createElement(ne.a.Option,{value:"boolean"},"boolean"))),i.a.createElement(h.a.Item,{label:"Default value",validateStatus:c.defaultValue&&u.defaultValue?"error":"validating",help:c.defaultValue&&u.defaultValue},i.a.createElement(v.a,{name:"defaultValue",placeholder:"Example: Rostyslav",value:r.defaultValue,onChange:o,onBlur:l})),i.a.createElement(I.a,{checked:r.hideIfInitial,onChange:function(e){var t=e.target.checked;return m("hideIfInitial",t)}},"Hide if default?")))}))),ie=Object(b.c)((function(){var e=$({}),t=e.fullQuery,n=e.setQueryField;return i.a.createElement(y.b,{dataSource:Object.keys(t).map((function(e){return{name:e,value:t[e]}})),renderItem:function(e){return i.a.createElement(y.b.Item,{key:e.name},i.a.createElement(h.a.Item,{style:{width:"100%"},label:e.name},i.a.createElement(v.a,{value:e.value.toString(),onChange:function(t){return n(e.name,t.target.value)}})))}})})),ue=Object(b.b)("queryItems")(Object(b.c)((function(e){e.queryItems;var t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],u=n[1];return i.a.createElement("div",null,i.a.createElement(l.a.Title,null,"React hook - useLocationQuery"),i.a.createElement(f.a,{gutter:[8,8]},i.a.createElement(s.a,{span:12},i.a.createElement(ee,null),i.a.createElement(m.a,{onClick:function(){return u(!0)}},"Add query item"),a&&i.a.createElement(re,{onClose:function(){return u(!1)}})),i.a.createElement(s.a,{span:12},i.a.createElement(ie,null))))}))),ce=n(163),oe=(n(411),n(170)),le=n(74),fe=n(138),se=n(139),me=n(46),pe=(n(197),n(8)),be=(R=function(){function e(t,n,a,r){Object(fe.a)(this,e),Object(le.a)(this,"type",U,this),Object(le.a)(this,"name",T,this),Object(le.a)(this,"initial",B,this),Object(le.a)(this,"hideIfInitial",H,this),this.name=t,this.type=n,this.initial=a,this.hideIfInitial=r}return Object(se.a)(e,[{key:"setName",value:function(e){this.name=e}},{key:"setInitial",value:function(e){this.initial=e}},{key:"setHideIfInitial",value:function(e){this.hideIfInitial=e,ve(this)}}]),e}(),U=Object(me.a)(R.prototype,"type",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"string"}}),T=Object(me.a)(R.prototype,"name",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=Object(me.a)(R.prototype,"initial",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=Object(me.a)(R.prototype,"hideIfInitial",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(me.a)(R.prototype,"setName",[pe.f],Object.getOwnPropertyDescriptor(R.prototype,"setName"),R.prototype),Object(me.a)(R.prototype,"setInitial",[pe.f],Object.getOwnPropertyDescriptor(R.prototype,"setInitial"),R.prototype),Object(me.a)(R.prototype,"setHideIfInitial",[pe.f],Object.getOwnPropertyDescriptor(R.prototype,"setHideIfInitial"),R.prototype),R),ye=(P=function(){function e(){Object(fe.a)(this,e),Object(le.a)(this,"items",J,this)}return Object(se.a)(e,[{key:"addQueryItem",value:function(e,t,n,a){this.items=[].concat(Object(oe.a)(this.items),[new be(e,t,n,a)]),he(this.items)}}]),e}(),J=Object(me.a)(P.prototype,"items",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de().map((function(e){var t=e.name,n=e.type,a=e.initial,r=e.hideIfInitial;return new be(t,n,a,r)}))}}),Object(me.a)(P.prototype,"addQueryItem",[pe.f],Object.getOwnPropertyDescriptor(P.prototype,"addQueryItem"),P.prototype),P),de=function(){var e;return JSON.parse(null!==(e=localStorage.getItem("QUERY_ITEMS"))&&void 0!==e?e:"[]")},he=function(e){return localStorage.setItem("QUERY_ITEMS",JSON.stringify(e))},ve=function(e){return he([].concat(Object(oe.a)(de().filter((function(t){return t.name!==e.name}))),[e]))},Ie=new ye,Oe=a;c.a.render(i.a.createElement(b.a,{queryItems:Oe.queryItems},i.a.createElement(ce.a,null,i.a.createElement(ue,null))),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.cf630a28.chunk.js.map